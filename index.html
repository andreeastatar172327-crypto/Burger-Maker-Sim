<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Burger Making Sim</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    
    <!-- PWA / App-Like Settings -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#1f2937">
    
    <!-- Explicit Apple Touch Icon for iOS -->
    <link rel="apple-touch-icon" href="https://placehold.co/192x192/f59e0b/1f2937?text=üçî"> 

    <!-- Dynamic Manifest Injection for PWA installation -->
    <script>
        // This script dynamically creates the manifest file required for PWA installation
        document.addEventListener('DOMContentLoaded', () => {
            const manifestData = {
                // The name that appears on the home screen
                name: "Burger Sim Game", 
                short_name: "BurgerSim",
                description: "The ultimate burger making recipe challenge game.",
                start_url: "./", // Use ./ or /Burger-Maker-Sim/ if on GitHub Pages
                display: "standalone", // CRITICAL: Forces full-screen app mode
                background_color: "#1f2937",
                theme_color: "#f59e0b",
                icons: [
                    {
                        // Custom icon with a burger emoji
                        src: "https://placehold.co/192x192/f59e0b/1f2937?text=üçî",
                        sizes: "192x192",
                        type: "image/png"
                    },
                    {
                        src: "https://placehold.co/512x512/f59e0b/1f2937?text=üçî",
                        sizes: "512x512",
                        type: "image/png"
                    }
                ]
            };

            const manifestBlob = new Blob([JSON.stringify(manifestData)], { type: 'application/json' });
            const manifestUrl = URL.createObjectURL(manifestBlob);
            
            const link = document.createElement('link');
            link.rel = 'manifest';
            link.href = manifestUrl;
            document.head.appendChild(link);
            
            // Check if the app is running in PWA mode after installation
            if (window.matchMedia('(display-mode: standalone)').matches || document.referrer.includes('android-app://')) {
                document.querySelector('header p').textContent = "Welcome to your installed Burger Sim app!";
            }
        });
    </script>

    <style>
        :root {
            --color-primary: #f59e0b;
            --color-secondary: #ef4444;
            --color-success: #10b981;
            --color-coin: #f59e0b;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1f2937; /* Dark hosting background */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-bottom: 3rem; 
            touch-action: manipulation;
        }
        
        /* Container for the game area, giving it a nice separation */
        .game-hosting-card {
            background-color: #f3f4f6; /* Light background for the game content */
            padding: 1rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.4);
            width: 100%;
            max-width: 450px;
        }

        /* --- GAME-SPECIFIC STYLES --- */
        .ingredient-btn {
            transition: transform 0.1s ease-out, box-shadow 0.1s ease-out;
            min-height: 45px;
        }
        .ingredient-btn:active:not(.disabled) {
            transform: scale(0.95);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
        }
        .patty-cooked-btn { background-color: #7c2d12; color: white; }
        .bun-bottom { background-color: #fcd34d; }
        .bun-top { background-color: #fcd34d; }
        .cheese { background-color: #fde047; color: #333;}
        .tomato { background-color: #ef4444; color: white; }
        .lettuce { background-color: #6ee7b7; color: #333;}
        .mayo { background-color: #fef3c7; color: #854d0e; border: 1px solid #fde047;} 
        .ketchup { background-color: #dc2626; color: white; }
        
        /* --- STACK DISPLAY STYLES --- */
        .burger-part {
            width: 100%;
            border-radius: 5px;
            margin-bottom: -10px; 
            position: relative;
            transition: all 0.5s ease-out;
            border: 2px solid rgba(0, 0, 0, 0.1);
            box-sizing: border-box; 
        }
        
        .burger-part.bun-bottom-display {
            height: 40px; 
            border-radius: 0 0 5px 5px; 
            background-color: #fcd34d;
            z-index: 10;
            border-top: none;
            box-shadow: inset 0 5px 10px rgba(0,0,0,0.1);
        }
        
        .burger-part.patty-cooked-display {
            height: 40px; 
            background-color: #7c2d12;
            border-radius: 5px; 
            z-index: 20;
        }
        
        .burger-part.cheese-display {
            height: 15px; 
            background-color: #fde047;
            z-index: 30;
            
